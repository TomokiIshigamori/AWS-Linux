# AWS-Linux

AWS上にLinux構築

＃Day1
【東京リージョンでEC2立ち上げ】
AMI:Ubuntu Server　22.04 LTS
インスタンスタイプ：t2.micro
ネットワーク：デフォルトVPC
サブネット：自動割り当て
パブリックIP：自動割り当て→「有効化」
セキュリティグループ：新規作成→自分のIPのみ許可
ストレージ：８GB、GP３、インスタンス終了時に削除ON

トラブルなくインスタンス起動成功！

＃Day2
【SSH接続テスト】
1. ダウンロードしたキーペアをsshフォルダに移動。
Linux使用コマンド:mv ~/downloads/<キーペア名> ~/.ssh/
※フォルダに移動できてるか確認　lsコマンド使用。
2. アクセス権変更(セキュリティ対策)
Linux使用コマンド:chmod 400 ~/.ssh/<キーペア名>
3. SSH接続※AWSマネジメントコンソールで確認したIPv4を使う。
Linux使用コマンド:ssh -i ~/.ssh/<キーペア名> ubuntu@IPv4
キーペアの権限が広すぎる(他のユーザーから見える状態)だと、SSHが弾いて接続できないから注意。
4. 初回接続
初回だけ接続確認あり。→yesと入力して続行。
接続成功すると ubuntu@IP-が表示される。
5. Ubuntuのバージョン確認
Linux使用コマンド:lsb_release -a
バージョンが表示されたら成功。
〜トラブル対処メモ〜
Permission denied:.pemのパス or 権限ミス
タイムアウト:セキュリティグループでポート(SSH:20)が閉じている可能性あり。
ホストが応答しない:インスタンス停止中 or IPが変わっている
IPが変わっている場合、Elastic IP(固定IP)を割り当てる。割り当てないとインスタンス停止時に変わるので注意。

